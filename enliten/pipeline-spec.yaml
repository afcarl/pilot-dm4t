enliten:
  pipeline:
    - run: add_metadata
      parameters:
        name: 'enliten'
        title: 'ENLITEN'
        homepage: 'http://www.cs.bath.ac.uk/enliten/'
        temporal:
          name: 'Data Collected'
          start: '2013-10-01'
          end: '2015-06-30'
    - run: add_resource
      parameters:
        name: power
        table: power
        url: 'env://DPP_DB_ENGINE_INPUT'
    - run: stream_remote_resources
    - run: set_types
      parameters:
        resources: power
        types:
          '_id':
            type: integer
          device:
            type: integer
          sensor:
            type: integer
          avg_power:
            type: number
          timestamp:
            type: datetime
            format: 'fmt:%Y-%m-%dT%H:%M:%S'
          min_power:
            type: number
          max_power:
            type: number
    - run: dump.to_path
      parameters:
        out-path: ../_datasets/enliten
    - run: .._processors.dump.to_aws
      parameters:
         bucket: data.frictionlessdata.io
         out-path: pilot-dm4t/datasets/enliten-example
